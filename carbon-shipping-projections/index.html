<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image:alt" content="Justin Napolitano"/><meta data-react-helmet="true" name="twitter:image" content="undefined/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg"/><meta data-react-helmet="true" name="og:image:alt" content="Justin Napolitano"/><meta data-react-helmet="true" name="og:image" content="undefined/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg"/><meta data-react-helmet="true" name="twitter:description" content="Monte Carlo Carbon Shipping Projections"/><meta data-react-helmet="true" name="twitter:title" content="Monte Carlo Projection of the Annual Cost of Shipping Carbon from Europe to the United States"/><meta data-react-helmet="true" name="twitter:creator" content="just_napolitano"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="Monte Carlo Carbon Shipping Projections"/><meta data-react-helmet="true" property="og:title" content="Monte Carlo Projection of the Annual Cost of Shipping Carbon from Europe to the United States"/><meta data-react-helmet="true" name="description" content="Monte Carlo Carbon Shipping Projections"/><meta name="generator" content="Gatsby 4.12.1"/><style data-href="/styles.5ed63f97d76756aacddc.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e8d56e807ace6dccd6cb4fe2ee4f7ab7"/><title data-react-helmet="true">Monte Carlo Projection of the Annual Cost of Shipping Carbon from Europe to the United States | Justin&#x27;s Data Blog</title><link as="script" rel="preload" href="/webpack-runtime-beac12f331292c6e9ad8.js"/><link as="script" rel="preload" href="/framework-e413e527015be9a1bdfd.js"/><link as="script" rel="preload" href="/app-f701743b960c7472aa13.js"/><link as="script" rel="preload" href="/commons-9979cba14fa891b0ecd4.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-8c1fd17216c44ce835d5.js"/><link as="fetch" rel="preload" href="/page-data/carbon-shipping-projections/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Justin&#x27;s Data Blog</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Monte Carlo Projection of the Annual Cost of Shipping Carbon from Europe to the United States</h1><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:56.25%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAa2DSmmkL//EABkQAAIDAQAAAAAAAAAAAAAAAAACARETA//aAAgBAQABBQLVDXmaLJ0iNERaqj//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAADAQEAAAAAAAAAAAAAAAAAATEyEP/aAAgBAQAGPwLaRsoyc//EABsQAAMAAgMAAAAAAAAAAAAAAAABESExQVFx/9oACAEBAAE/Ic8cW8j6ItSvB665JgSYJQ//2gAMAwEAAgADAAAAEOwv/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Qqv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EIj/xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhQVFx/9oACAEBAAE/EC5YoEcx+L3yI46zjLiJRe+6kS/Vx0Q9G//Z" alt=""/><picture><source type="image/avif" data-srcset="/static/d99cf46368a58556154d9e16b8851049/ba386/post-image.avif 750w,/static/d99cf46368a58556154d9e16b8851049/8adb1/post-image.avif 1080w,/static/d99cf46368a58556154d9e16b8851049/dc6b3/post-image.avif 1366w,/static/d99cf46368a58556154d9e16b8851049/031aa/post-image.avif 1920w" sizes="100vw"/><source type="image/webp" data-srcset="/static/d99cf46368a58556154d9e16b8851049/a66aa/post-image.webp 750w,/static/d99cf46368a58556154d9e16b8851049/65dd5/post-image.webp 1080w,/static/d99cf46368a58556154d9e16b8851049/4fad6/post-image.webp 1366w,/static/d99cf46368a58556154d9e16b8851049/c512e/post-image.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg" data-srcset="/static/d99cf46368a58556154d9e16b8851049/37bba/post-image.jpg 750w,/static/d99cf46368a58556154d9e16b8851049/61c72/post-image.jpg 1080w,/static/d99cf46368a58556154d9e16b8851049/d61e8/post-image.jpg 1366w,/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg 1920w" alt="Justin Napolitano"/></picture><noscript><picture><source type="image/avif" srcSet="/static/d99cf46368a58556154d9e16b8851049/ba386/post-image.avif 750w,/static/d99cf46368a58556154d9e16b8851049/8adb1/post-image.avif 1080w,/static/d99cf46368a58556154d9e16b8851049/dc6b3/post-image.avif 1366w,/static/d99cf46368a58556154d9e16b8851049/031aa/post-image.avif 1920w" sizes="100vw"/><source type="image/webp" srcSet="/static/d99cf46368a58556154d9e16b8851049/a66aa/post-image.webp 750w,/static/d99cf46368a58556154d9e16b8851049/65dd5/post-image.webp 1080w,/static/d99cf46368a58556154d9e16b8851049/4fad6/post-image.webp 1366w,/static/d99cf46368a58556154d9e16b8851049/c512e/post-image.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg" srcSet="/static/d99cf46368a58556154d9e16b8851049/37bba/post-image.jpg 750w,/static/d99cf46368a58556154d9e16b8851049/61c72/post-image.jpg 1080w,/static/d99cf46368a58556154d9e16b8851049/d61e8/post-image.jpg 1366w,/static/d99cf46368a58556154d9e16b8851049/a764f/post-image.jpg 1920w" alt="Justin Napolitano"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p>May 07, 2022</p><p>Monte Carlo Carbon Shipping Projections</p><p>Justin napolitano</p></header><section itemProp="articleBody"><h1>A Monte Carlo Projection of the Annual Cost of Shipping Carbon from Europe to US Ports</h1>
<h2>Introduction</h2>
<p>I produced an earlier <a href="https://blog.jnapolitano.io/wells-near-ports/">report</a> that identified potential ports that may be suitable terminals for carbon imports into the United States for storage or industrial applications.</p>
<p>Following that report, I became interested in what could be the annual value of shipping co2 to the economy.  In this report, I analyze the results of a Monte Carlo simulation I developed in Python (documented at the end of this page) that projects the annual cost of shipping carbon across the Atlantic from Europe to the United States.</p>
<h2>Methodology</h2>
<h3>Modeling Dynamic Variables</h3>
<p>To account for dynamic variables I designed a Monte Carlo simulation that randomly selected variables across normal distributions bounded by minima and maxima.</p>
<p>The current simulation includes:</p>
<ul>
<li>Variable shipping distances</li>
<li>Variable shipping capacity</li>
<li>Variable ports of origin</li>
<li>Variable terminal ports</li>
<li>Variable round trip shipping duration</li>
</ul>
<p>Fixed variables include:</p>
<ul>
<li>Cost of Transport per ton (though this will be converted to a random distribution as soon as I find a better data source)</li>
</ul>
<h3>Modeling the Shipping Infrastructure</h3>
<h4>Source</h4>
<p>Susanna Dorigoni, Luigi Mazzei, Federico Pontoni, and Antonio Sileo
IEFE – Centre for Research on Energy and Environmental Economics and Policy,
Università Bocconi, Milan, Italy</p>
<h4>Modeling the Capacity of Tankers</h4>
<p>To complete this analysis, I converted values found for lng shipping to super critical co2.  To do this,  I converted LNG capacties to super critical Co2 with the following conversion factors:</p>
<ul>
<li>1 tonne co2 super critical = 2.64812 meter cubed super critical co2</li>
<li>1 tonnes LNG = 2.21 m3 LNG (liquid)</li>
<li>1 tonne co2 = 544.66 m^3</li>
</ul>
<p>The capacity range:</p>
<ul>
<li>The lower bound of the distribution is 33358 cubic meteres</li>
<li>The upper bound is 175132</li>
<li>The median provided is 114723</li>
<li>The standard deviation is 5</li>
</ul>
<h4>MOdeling the Number of Tankers</h4>
<p>The number of tankers in the atlantic basin dedicated to LNG transort recorded in 2008 was 63.  I calculated a rough estimate of 25 percent of these being used to transport carbon annually.  A better source is needed to accurately model.  If ships are used to transport both lng and carbon a random distribution designed according to a probability distribution would suitably model the data.</p>
<p>A total of 15 tankers were modelled.</p>
<h2>Findings</h2>
<p>Shipping carbon from Europe at an uncontrained rate is very clearly a billion doallar industry.</p>
<p>Across 500   years of modelling we see about 273 billion dollars worth of economic activity per annum.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">samples_df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre></div>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>usd_billions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>500.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>272.716415</td>
    </tr>
    <tr>
      <th>std</th>
      <td>5.352208</td>
    </tr>
    <tr>
      <th>min</th>
      <td>259.417903</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>269.038222</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>272.779910</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>276.060047</td>
    </tr>
    <tr>
      <th>max</th>
      <td>289.222052</td>
    </tr>
  </tbody>
</table>
</div>
<h2>Calculating the Confidence Interval</h2>
<p>The data is nearly normal.  I could test for normality, but that would be beyond the scope of this analysis.  Also, by design the Monte Carlo model should produce a normal distribution with sufficient samples.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
st<span class="token punctuation">.</span>norm<span class="token punctuation">.</span>interval<span class="token punctuation">(</span>alpha<span class="token operator">=</span><span class="token number">0.90</span><span class="token punctuation">,</span> loc<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>samples_df<span class="token punctuation">[</span><span class="token string">'usd_billions'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> scale<span class="token operator">=</span>st<span class="token punctuation">.</span>sem<span class="token punctuation">(</span>samples_df<span class="token punctuation">[</span><span class="token string">'usd_billions'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">(272.32270640728865, 273.11012424532606)</code></pre></div>
<p>It is safe to assume that 90 percent of the time we would see an annual cost of 272.32 to 273.11 billion dollars usd with the assumptions of the model taken into account.</p>
<h3>Monte Carlo Historgram</h3>
<p>The data is nearly normal.  It would be fair to expect a range of about 272.32 to 273.11 billion dollars.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">samples_df<span class="token punctuation">.</span>plot<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>grid<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> rwidth<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span>
                   color<span class="token operator">=</span><span class="token string">'#607c8e'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Annual Price Distribution for Shipping Carbon'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Annual Price in Billions USD'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'y'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">)</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 385px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d7f71c32cf5e6738ad539f9dce59c951/409e6/shipping_projections_9_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADeElEQVQ4y3WSX0xTVxzHzzL3sBn3ZhQSje++8OJDEyBabRGCzuoiM/gnZhKQYkuhQP8QOp3ztoDVoYXCFa1zGz6QqLC4ZeACyZLNkBgVG7E2rONSohYd7W29f8/5LefQLj64k5zc8zv3dz75/n7fHwIAVFJSsmZ2dnZLJBLZZrVa97hcLpPT6axwu92mlpaWCrvNtvd0V2eVy+3e5fF4djU1NVU3NDTs6/R6TR6PZ7fP5zPPzc1tnZycXI8osLy8vDiVSj2WJElXFCWTy+WykiSJsixnZUnKpl7/I07PPMqqipKVZVlUZCkbfT6fexKbzwnCghiLxVYSiQTE4/EzDGg2m4symUwcYwyEENA0DXRdBxoDIfDqzQrwoz8DXfSO/pdkGd5KMqTTaRBFEYuiCIIg+BmwsrJyoyiKz/JAXdM0rOs6xoRgIBj/eHcKh0bG8SoPY1XTCF0AQGgeAKg0TCaT59DY2BgymUxF6XQ6lleFVVUFRVWZoumZx3DCdxH6vr/N1KmaBoqi/FeBoigEY6zRN4uLixxCCH1qNBqLM5nMswJQUVRWFl3Xb/8Kdb5voa2Xh9/uP2R37wPS/AJws8Fg2ExLLgB1TYO3kgSjE79DR3AY7P4wOAKDEBoZg7m/BMjmcoDx/wOLSktLNxUUst5hHaLxBDSeDYHdP8CArgtXoTkQBus3IXi5/IYppfnvAgVBYMAPq6urNxRMoY2nJX89OAKO7iGm7BQ3AO3BYWjt4aE5MAg/Tf2ZL5mAqlI/iEbjZDLJoWg0ylympuT7pk/+8YDYuAHS2sMTRyBMbFyYdASHibOXJ6e4AdJ1+TvC5gmAyLJMVn1UVxXSsdmxw1hMFVLa0/kFrbPvOrb7w9h5/gp2BAbZ2XXhKnb28tjRPYR9oRs4cmcCCy9ShVFS6FtBEM4hwCLq6mhZH08sJPpvjrOetfYMQbM/zLad6wfr2RBzmZZv4/qhI3gFvmjjgONvAj96F57/vQhLL5dhaSkZQNcudaOaz6o+4SM3Ksv2HztS7wvuPFjvOHTwZLulzttdsefoydrjLq7isN1rOVDXXNN4ps944Etbba3NY7E0eneX7Tt8bHxi2vxV7+Wai8HzBnT80OdoZ5mBlU63pb6NfX+YEahhH9MpQAitQwitRQhtzJ83IIQ+2l5Tz3Jv/XIPLQPQ/A/+BV3tKSTKhkRxAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title="png"
        src="/static/d7f71c32cf5e6738ad539f9dce59c951/409e6/shipping_projections_9_0.png"
        srcset="/static/d7f71c32cf5e6738ad539f9dce59c951/c26ae/shipping_projections_9_0.png 158w,
/static/d7f71c32cf5e6738ad539f9dce59c951/6bdcf/shipping_projections_9_0.png 315w,
/static/d7f71c32cf5e6738ad539f9dce59c951/409e6/shipping_projections_9_0.png 385w"
        sizes="(max-width: 385px) 100vw, 385px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2>The Take Away</h2>
<p>Carbon Capture is likely a trillion dollar economy at scale.  In just reviewing shipping super critical co2 from Europe to the United States, a 272 billion dollar per annum industry could develop as nations move towards a net carbon zero economy.</p>
<h2>Limitations of the Model</h2>
<p>The model as it is presented in this report is unconstrained.  A more accurate portrayal of what would be possible with current systems in place could be designed with better data.  It is also important to note that I have not included incentives into the model.  It is entirely possible that government subsidies could prove the carbon shipping industry to be more expansive than presented here.</p>
<h2>Data Imports and Manipulation</h2>
<h3>The Shipping Dataframe</h3>
<p>The shipping dataframe is the basis of the simulation.  It is used to tabulate total cost and to record the values of variables.</p>
<h4>Capacity Distribtuion and Number of Ships Calculation</h4>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment"># Capacity range</span>
<span class="token comment"># 40,000 m3 71,500 to 210,000</span>

<span class="token comment">#Susanna Dorigoni, Luigi Mazzei, Federico Pontoni, and Antonio Sileo</span>
<span class="token comment">#IEFE – Centre for Research on Energy and Environmental Economics and Policy,</span>
<span class="token comment">#Università Bocconi, Milan, Italy</span>

<span class="token comment"># I'm sure a better report is available but this is a start</span>
<span class="token comment"># cubic meters unit</span>

<span class="token comment">### a rough estimate of global suplly dedicated to co2 shipping</span>

<span class="token comment"># I will probably need a better metric but this is a good start that can be modified later when necessary</span>

ships <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">63</span><span class="token operator">*</span><span class="token number">.25</span><span class="token punctuation">)</span>
ships


conversion_factor <span class="token operator">=</span> <span class="token number">2.21</span><span class="token operator">/</span><span class="token number">2.65</span>
conversion_factor

lower_bound <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">40000</span> <span class="token operator">*</span> conversion_factor<span class="token punctuation">)</span>
upper_bound <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">210000</span> <span class="token operator">*</span> conversion_factor<span class="token punctuation">)</span>

median <span class="token operator">=</span> <span class="token number">137564</span> <span class="token operator">*</span> conversion_factor
standard_dev <span class="token operator">=</span> <span class="token number">6.63</span> <span class="token operator">*</span> conversion_factor  <span class="token comment">#file:///Users/jnapolitano/Downloads/LNG_Shipping_a_Descriptive_Analysis.pdf</span>

cap_range <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lower_bound<span class="token punctuation">,</span> upper_bound<span class="token punctuation">)</span>

cap_distribution <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>loc<span class="token operator">=</span>median <span class="token punctuation">,</span> scale<span class="token operator">=</span>standard_dev<span class="token punctuation">,</span> size<span class="token operator">=</span>ships<span class="token punctuation">)</span>

</code></pre></div>
<h4>The Shipping Df</h4>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">shipping_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>cap_distribution<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'co2_capacity_cubic_meters'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
shipping_df<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">''</span>
shipping_df<span class="token punctuation">[</span><span class="token string">"us_port"</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">''</span>
shipping_df<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">''</span>
shipping_df<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
shipping_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_tonnes'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_cubic_meters'</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">544.66</span> <span class="token comment">## Verify this factor.  It seems to high</span>
shipping_df</code></pre></div>
<div style="overflow-x:auto;">
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre></div>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>co2_capacity_cubic_meters</th>
      <th>days_to_port</th>
      <th>europe_port</th>
      <th>us_port</th>
      <th>distance</th>
      <th>price</th>
      <th>co2_capacity_tonnes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>114722.058446</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.630592</td>
    </tr>
    <tr>
      <th>1</th>
      <td>114722.867438</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.632078</td>
    </tr>
    <tr>
      <th>2</th>
      <td>114718.413428</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.623900</td>
    </tr>
    <tr>
      <th>3</th>
      <td>114726.644196</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.639012</td>
    </tr>
    <tr>
      <th>4</th>
      <td>114717.890366</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.622940</td>
    </tr>
    <tr>
      <th>5</th>
      <td>114724.390072</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.634873</td>
    </tr>
    <tr>
      <th>6</th>
      <td>114728.150802</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.641778</td>
    </tr>
    <tr>
      <th>7</th>
      <td>114722.486489</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.631378</td>
    </tr>
    <tr>
      <th>8</th>
      <td>114732.540018</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.649837</td>
    </tr>
    <tr>
      <th>9</th>
      <td>114716.979721</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.621268</td>
    </tr>
    <tr>
      <th>10</th>
      <td>114720.899956</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.628465</td>
    </tr>
    <tr>
      <th>11</th>
      <td>114730.255969</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.645643</td>
    </tr>
    <tr>
      <th>12</th>
      <td>114717.927588</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.623008</td>
    </tr>
    <tr>
      <th>13</th>
      <td>114717.983103</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.623110</td>
    </tr>
    <tr>
      <th>14</th>
      <td>114723.044902</td>
      <td>0</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0</td>
      <td>210.632404</td>
    </tr>
  </tbody>
</table>
</div>
<h3>The European Ports Df</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
gisfilepath <span class="token operator">=</span> <span class="token string">"/Users/jnapolitano/Projects/data/energy/PORT_2013_SH/Data/PORT_PT_2013.shp"</span>


ports_df <span class="token operator">=</span> gpd<span class="token punctuation">.</span>read_file<span class="token punctuation">(</span>gisfilepath<span class="token punctuation">)</span>

ports_df <span class="token operator">=</span> ports_df<span class="token punctuation">.</span>to_crs<span class="token punctuation">(</span>epsg<span class="token operator">=</span><span class="token number">3857</span><span class="token punctuation">)</span></code></pre></div>
<h3>Filtered Wells DataFrame</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment">## Importing our DataFrames</span>

gisfilepath <span class="token operator">=</span> <span class="token string">"/Users/jnapolitano/Projects/data/energy/filtered-wells.geojson"</span>


filtered_df <span class="token operator">=</span> gpd<span class="token punctuation">.</span>read_file<span class="token punctuation">(</span>gisfilepath<span class="token punctuation">)</span>

filtered_df <span class="token operator">=</span> filtered_df<span class="token punctuation">.</span>to_crs<span class="token punctuation">(</span>epsg<span class="token operator">=</span><span class="token number">3857</span><span class="token punctuation">)</span>

</code></pre></div>
<h4>Getting Map Conditions for Us Port Filtering</h4>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">map_conditions <span class="token operator">=</span> filtered_df<span class="token punctuation">.</span>TERMID<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h3>US Ports Dataframes</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment">## Importing our DataFrames</span>

gisfilepath <span class="token operator">=</span> <span class="token string">"/Users/jnapolitano/Projects/data/energy/Liquified_Natural_Gas_Import_Exports_and_Terminals.geojson"</span>


terminal_df <span class="token operator">=</span> gpd<span class="token punctuation">.</span>read_file<span class="token punctuation">(</span>gisfilepath<span class="token punctuation">)</span>

terminal_df <span class="token operator">=</span> terminal_df<span class="token punctuation">.</span>to_crs<span class="token punctuation">(</span>epsg<span class="token operator">=</span><span class="token number">3857</span><span class="token punctuation">)</span>

</code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">terminal_df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>terminal_df<span class="token punctuation">[</span>terminal_df<span class="token punctuation">[</span><span class="token string">'STATUS'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'SUSPENDED'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
terminal_df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"NAME"</span><span class="token punctuation">:</span> <span class="token string">"TERMINAL_NAME"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
terminal_df<span class="token punctuation">[</span><span class="token string">'TERMINAL_GEO'</span><span class="token punctuation">]</span> <span class="token operator">=</span> terminal_df<span class="token punctuation">[</span><span class="token string">'geometry'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">port_terminals_df <span class="token operator">=</span> terminal_df<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">'TERMID in @map_conditions'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
port_terminals_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_mmta'</span><span class="token punctuation">]</span> <span class="token operator">=</span> port_terminals_df<span class="token punctuation">[</span><span class="token string">'CURRENTCAP'</span><span class="token punctuation">]</span> <span class="token operator">*</span> conversion_factor
port_terminals_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_metric_tons'</span><span class="token punctuation">]</span> <span class="token operator">=</span> port_terminals_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_mmta'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1000000</span>
port_terminals_df<span class="token punctuation">[</span><span class="token string">'available'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span></code></pre></div>
<h2>Random Distribution, Distance and Pricing Functions</h2>
<h3>Accounting for Random Days at Sea</h3>
<p>As days at sea is variable I created a range between 20 and 40 days to account for a round trip to every major port in europe.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
<span class="token keyword">def</span> <span class="token function">random_day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    lower_bound <span class="token operator">=</span> <span class="token number">20</span>
    upper_bound <span class="token operator">=</span> <span class="token number">40</span>

    median <span class="token operator">=</span> <span class="token number">30</span>
    standard_dev <span class="token operator">=</span> <span class="token number">2</span>

    days_range <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lower_bound<span class="token punctuation">,</span> upper_bound<span class="token punctuation">)</span>

    days_distribution <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>loc<span class="token operator">=</span>median <span class="token punctuation">,</span> scale<span class="token operator">=</span>standard_dev<span class="token punctuation">,</span> size<span class="token operator">=</span>ships<span class="token punctuation">)</span>


    days_randomized <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>days_distribution<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>


    <span class="token keyword">return</span> <span class="token punctuation">(</span>days_randomized<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int64<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<h3>Accounting for Random European Ports</h3>
<p>I randomized the Port Selection Process with the following function.  The data provided by EuroStat did not filter according to type of port.  Nonetheless, the distance recorded should be very similiar to those of actual lng ports.  A better data set could be substituded directly into the function</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
<span class="token keyword">def</span> <span class="token function">random_europe_port</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#select a random number along the index of the ports df.  Return the value of hte geometry at the index.  </span>
    <span class="token comment">#select indices from the dataframe that are valid.  ie capacity has not yet been met.  </span>
    ports_randomized <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>ports_df<span class="token punctuation">.</span>index<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    index_location <span class="token operator">=</span> ports_randomized<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> ports_df<span class="token punctuation">.</span>geometry<span class="token punctuation">[</span>index_location<span class="token punctuation">]</span>
</code></pre></div>
<h3>Accounting for Random US Ports</h3>
<p>I was able to filter import/export ports in the United States in to a dataset of about 15.  Like the European dataset I randomized selection</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
<span class="token keyword">def</span> <span class="token function">random_us_port</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#select a random number along the index of the ports df.  Return the value of hte geometry at the index.  </span>

    ports_randomized <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>port_terminals_df<span class="token punctuation">.</span>index<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    index_location <span class="token operator">=</span> ports_randomized<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> port_terminals_df<span class="token punctuation">.</span>geometry<span class="token punctuation">[</span>index_location<span class="token punctuation">]</span>
</code></pre></div>
<h3>Calculating Distance Between Ports</h3>
<p>I calculated the shortest distance between ports based on their geographic locations with the shapley.distance function.  It returns distance in meters.  I divide by 1000 to convert into km.   The algorithm could be improved by using official shipping data to randomize a distribution of distances between ports.  Unfortunately, I do not have that data available to me.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
<span class="token keyword">def</span> <span class="token function">geo_distance</span><span class="token punctuation">(</span>dist1<span class="token punctuation">,</span>dist2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># return distance in km</span>
    distance <span class="token operator">=</span> dist1<span class="token punctuation">.</span>distance<span class="token punctuation">(</span>dist2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>distance<span class="token punctuation">)</span>

    
</code></pre></div>
<h4>Calculating Price of Transport</h4>
<p>The cost of transport accounts for port fees, liquification, and transport.   Unfortunately, my data is from a paper published in 2004.  I would like to find a more recent paper.   I did not convert the value of 2004 usd to 2022 because I am not sure of the validity of the conversion factors available online.  I would need a better source to correctly model the true cost of transport.</p>
<p><a href="https://ieaghg.org/docs/General_Docs/Reports/PH4-30%20Ship%20Transport.pdf">source</a></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
<span class="token keyword">def</span> <span class="token function">price_to_transport</span><span class="token punctuation">(</span>distance<span class="token punctuation">)</span><span class="token punctuation">:</span>
    price <span class="token operator">=</span> <span class="token punctuation">(</span>distance<span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">12</span>
    <span class="token keyword">return</span> price
</code></pre></div>
<h2>Costs Per Annum Algorithm</h2>
<p>The algorithm I used calculates the daily status of ships transporting co2 across the atlantic from a European port to a port in the United States.  It will run for 365 iterations or until the total carbon capacity of the us ports is reached.  This value could also be dynamically allocated via a similiar algorithm, but the algorithm performance would suffer at the cost of marginal model improvements.</p>
<p>When the daily counter reaches zero for a tanker:</p>
<ul>
<li>The capacity is refilled to full</li>
<li>A random us port is assigned</li>
<li>a random european port is assigned</li>
<li>the distance between ports is calculated</li>
<li>the cost of transport over that distance is calculated per 100 km</li>
<li>The total shipping price of that cycle is tabulated</li>
<li>The total tonnage of that cycle is tabulated</li>
</ul>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
days <span class="token operator">=</span> <span class="token number">365</span>
day_counter <span class="token operator">=</span> <span class="token number">0</span> 
carbon_total_millions_metric_tons <span class="token operator">=</span> <span class="token number">300000000</span>
total_tons_shipped <span class="token operator">=</span> <span class="token number">0</span>
total_price <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment">#deduction = capacity of empty ships</span>
<span class="token keyword">for</span> day <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> carbon_total_millions_metric_tons <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token comment"># must use apply to account for multiple 0 conditions.  If i simply vectorized the function i could assing the the same values each day </span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  random_us_port<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  random_europe_port<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  geo_distance<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  price_to_transport<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># query all that are = o.  Summate the capacities deduct the total </span>
        tmp_df<span class="token operator">=</span>shipping_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">]</span>
        sum_of_capacity <span class="token operator">=</span> tmp_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_tonnes'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        sum_of_price <span class="token operator">=</span> tmp_df<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> random_day<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">)</span>
        total_tons_shipped <span class="token operator">=</span> total_tons_shipped <span class="token operator">+</span> sum_of_capacity
        total_price <span class="token operator">=</span> total_price <span class="token operator">+</span> sum_of_price
        carbon_total_millions_metric_tons <span class="token operator">=</span> carbon_total_millions_metric_tons <span class="token operator">-</span> sum_of_capacity
        <span class="token comment">#print(carbon_total_millions_metric_tons)</span>
        day_counter <span class="token operator">=</span> day_counter<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span> 
        <span class="token keyword">break</span>

    
    
<span class="token keyword">print</span><span class="token punctuation">(</span>day_counter<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>total_tons_shipped<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>total_price<span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">365
39177.55734226863
273610171402.87534</code></pre></div>
<h2>Monte Carlo Simulation with 500 iterations</h2>
<p>The annual rate of shipping can be variable according to shifting dynamics. I account for that by modelling the per annum algorithm 500 times.  Modelling would improve as n increases, but for the sake of time I limited the computation to 500 iterations</p>
<p>The only difference between this algorithm and the previous one is an extra for loop.  The algorithmic efficiency is surprisingly good as the I was able to vectorize tabulations with lambda functions across the dataframes.  On my laptop, I was able to complete the algorithm in about 16 minutes of run time.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">
nsamples <span class="token operator">=</span> <span class="token number">500</span>
price_samples <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> sample <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>nsamples<span class="token punctuation">)</span><span class="token punctuation">:</span>

    days <span class="token operator">=</span> <span class="token number">365</span>
    day_counter <span class="token operator">=</span> <span class="token number">0</span> 
    carbon_total_millions_metric_tons <span class="token operator">=</span> <span class="token number">300000000</span>
    total_tons_shipped <span class="token operator">=</span> <span class="token number">0</span>
    total_price <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment">#deduction = capacity of empty ships</span>
    <span class="token keyword">for</span> day <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> carbon_total_millions_metric_tons <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token comment"># must use apply to account for multiple 0 conditions.  If i simply vectorized the function i could assing the the same values each day </span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  random_us_port<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  random_europe_port<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  geo_distance<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'us_port'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token string">'europe_port'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>  price_to_transport<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token string">'distance'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token comment"># query all that are = o.  Summate the capacities deduct the total </span>
            tmp_df<span class="token operator">=</span>shipping_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>
            sum_of_capacity <span class="token operator">=</span> tmp_df<span class="token punctuation">[</span><span class="token string">'co2_capacity_tonnes'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            sum_of_price <span class="token operator">=</span> tmp_df<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> shipping_df<span class="token punctuation">[</span><span class="token string">'days_to_port'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> random_day<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token keyword">else</span> x<span class="token punctuation">)</span>
            total_tons_shipped <span class="token operator">=</span> total_tons_shipped <span class="token operator">+</span> sum_of_capacity
            total_price <span class="token operator">=</span> total_price <span class="token operator">+</span> sum_of_price
            carbon_total_millions_metric_tons <span class="token operator">=</span> carbon_total_millions_metric_tons <span class="token operator">-</span> sum_of_capacity
            <span class="token comment">#print(carbon_total_millions_metric_tons)</span>
            day_counter <span class="token operator">=</span> day_counter<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span> 
            <span class="token keyword">break</span>

        
        
    

    price_samples<span class="token punctuation">[</span>sample<span class="token punctuation">]</span> <span class="token operator">=</span> total_price

        
</code></pre></div>
<h3>Creating the Samples DF</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">samples_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>price_samples<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'cost_in_usd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">samples_df<span class="token punctuation">[</span><span class="token string">'usd_billions'</span><span class="token punctuation">]</span> <span class="token operator">=</span> samples_df<span class="token punctuation">.</span>cost_in_usd <span class="token operator">/</span> <span class="token number">1000000000</span>
samples_df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'cost_in_usd'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre></div>
<h2>Imports</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> geopandas <span class="token keyword">as</span> gpd
<span class="token keyword">import</span> folium
<span class="token keyword">import</span> contextily <span class="token keyword">as</span> cx
<span class="token keyword">import</span> rtree
<span class="token keyword">from</span> zlib <span class="token keyword">import</span> crc32
<span class="token keyword">import</span> hashlib
<span class="token keyword">from</span> shapely<span class="token punctuation">.</span>geometry <span class="token keyword">import</span> Point<span class="token punctuation">,</span> LineString<span class="token punctuation">,</span> Polygon
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>spatial <span class="token keyword">import</span> cKDTree
<span class="token keyword">import</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">as</span> st
<span class="token keyword">from</span> shapely<span class="token punctuation">.</span>geometry <span class="token keyword">import</span> Point
<span class="token keyword">from</span> haversine <span class="token keyword">import</span> Unit
<span class="token keyword">from</span> geopy<span class="token punctuation">.</span>distance <span class="token keyword">import</span> distance

<span class="token keyword">import</span> warnings

warnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>
</code></pre></div></section><hr/><footer><div class="bio"><p>Maintained by <strong>Justin Napolitano</strong>. <!-- --> <a href="https://twitter.com/just_napolitano">Follow me on Twitter</a></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/wells-near-ports/">← <!-- -->Potential Carbon and Hydrogen Storage Facilities Near Import/Export Ports</a></li><li></li></ul></nav></main><footer>© <!-- -->2022<!-- -->, Created by<!-- --> <a href="https://jnapolitano.io">Justin Napolitano</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/carbon-shipping-projections/";window.___webpackCompilationHash="e966555c07950f18e55a";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-67664a8ccc6c9f02b880.js"],"app":["/app-f701743b960c7472aa13.js"],"component---src-pages-404-js":["/component---src-pages-404-js-27981ca7dd461cb4280e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-59a21146d37aa180d12f.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-2f9b97cf148785549d09.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-8c1fd17216c44ce835d5.js"]};/*]]>*/</script><script src="/polyfill-67664a8ccc6c9f02b880.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-8c1fd17216c44ce835d5.js" async=""></script><script src="/commons-9979cba14fa891b0ecd4.js" async=""></script><script src="/app-f701743b960c7472aa13.js" async=""></script><script src="/framework-e413e527015be9a1bdfd.js" async=""></script><script src="/webpack-runtime-beac12f331292c6e9ad8.js" async=""></script></body></html>